function get_appcache_state(){var appCache=window.applicationCache;switch(appCache.status){case appCache.UNCACHED:return 'UNCACHED';break;case appCache.IDLE:return 'IDLE';break;case appCache.CHECKING:return 'CHECKING';break;case appCache.DOWNLOADING:return 'DOWNLOADING';break;case appCache.UPDATEREADY:return 'UPDATEREADY';break;case appCache.OBSOLETE:return 'OBSOLETE';break;default:return 'UKNOWN CACHE STATUS';break;};}
function add_cache_event_toasts(){var appCache=window.applicationCache;if(!navigator.onLine){showToast('You are offline.');}
appCache.addEventListener('cached',function(e){showToast('Finished caching site.');},false);appCache.addEventListener('downloading',function(e){showToast('Downloading new cache.');},false);appCache.addEventListener('error',function(e){if(navigator.onLine){showToast('Error while caching site.',5000);}},false);appCache.addEventListener('noupdate',function(e){showToast('Cache is up-to-date.');},false);appCache.addEventListener('obsolete',function(e){showToast('Site is obsolete.');},false);appCache.addEventListener('updateready',function(e){if(window.applicationCache.status==window.applicationCache.UPDATEREADY){showToast('The site was updated. Refresh to switch to updated version',8000);}},false);}